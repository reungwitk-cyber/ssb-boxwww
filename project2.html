<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LAB BOX ‚Äì Dashboard</title>

  <!-- =======================
       üîΩ SWITCH DROPDOWN LAB BOX 
       Bootstrap CSS
       ======================= -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- ======================= -->

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏á‡∏Å‡∏•‡∏° */
    .gauges {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      padding: 12px;
    }

    .gauge {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .gauge .ring {
      /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ß‡∏á */
      --size: 125px;
      /* ‡∏™‡∏µ‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ */
      --track: #e5e7eb;
      --progress: #6ee7b7;
      width: var(--size);
      height: var(--size);
      border-radius: 999px;
      position: relative;
      display: grid;
      place-items: center;
      /* NOTE: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ñ‡∏ö‡πÄ‡∏õ‡πá‡∏ô ~10px ‡πÅ‡∏•‡∏∞‡∏¢‡∏∂‡∏î‡πÅ‡∏Å‡∏ô 50% ‡πÉ‡∏´‡πâ‡∏ß‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô */
      background:
        radial-gradient(#fff calc(50% - 10px), transparent calc(50% - 9px)),
        conic-gradient(var(--progress) calc(var(--p)*1%), var(--track) 0);
      box-shadow: 0 6px 16px rgba(0, 0, 0, .08), inset 0 0 0 1px #f1f5f9;
    }

    .gauge .ring img {
      /* ‡∏£‡∏π‡∏õ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏á (‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô src ‡πÄ‡∏≠‡∏á) */
      width: 54px;
      height: 54px;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, .12);
      background: #fff;
      padding: 6px;
    }

    .gauge .value {
      position: absolute;
      bottom: 12px;
      left: 0;
      right: 0;
      text-align: center;
      font-weight: 700;
      font-size: 18px;
    }

    .gauge .unit {
      font-size: 12px;
      opacity: .8;
      margin-left: 2px
    }

    .gauge .label {
      font-size: 12px;
      font-weight: 600;
      color: #0f172a;
      background: #eeffcf;
      border: 1px solid #cce68f;
      padding: 4px 12px;
      border-radius: 999px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, .06);
    }

    /* ‡∏™‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ gauge */
    #gAir .ring {
      --progress: #f87171
    }

    /* ‡πÅ‡∏î‡∏á‡∏ô‡∏¥‡∏î‡πÜ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ */
    #gRH .ring {
      --progress: #34d399
    }

    /* ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö RH */
    #gCO2 .ring {
      --progress: #fb923c
    }

    /* ‡∏™‡πâ‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CO2 */

    /* ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ò‡∏µ‡∏° */
    :root {
      --bg: #f0f2f5;
      --panel: #ffffff;
      --ink: #121619;
      --muted: #6b7280;
      --brand: #b7f36a;
      --accent: #9ad83f;
      --accent-dark: #94c93e;
      --sidebar: #ffffff;
      --sidebar-border: #cde88b;
      --tab-height: 40px;
      --sidebar-width: 220px;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, Helvetica, sans-serif;
      color: var(--ink);
      background: var(--bg);
    }

    .app {
      display: grid;
      grid-template-columns: var(--sidebar-width) 1fr;
      grid-template-rows: auto 1fr;
      height: 100vh;
    }

    /* Topbar */
    .topbar {
      grid-column: 1/-1;
      background: var(--panel);
      border-bottom: 1px solid #e5e7eb;
      position: relative;
    }

    .topbar-inner {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 10px 16px;
    }

    .brand-badge {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
    }

    .brand-logo {
      height: 34px;
    }

    .brand-text {
      font-weight: 700;
      letter-spacing: .5px;
    }

    .title {
      background: var(--panel);
      border: 1px solid var(--sidebar-border);
      padding: 0 12px;
      /* ‚úÖ fixed */
      border-radius: 6px;
      font-weight: 700;
      margin-right: 10px;
      font-size: 22px;
      color: #0f172a;
      letter-spacing: .5px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, .08);
    }

    .tabs {
      flex: 1;
      display: flex;
      align-items: flex-end;
      height: var(--tab-height);
      background: var(--brand);
      border-left: 1px solid var(--sidebar-border);
      border-right: 1px solid var(--sidebar-border);
      border-top-left-radius: 6px;
      border-top-right-radius: 6px;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .tabs::-webkit-scrollbar {
      display: none
    }

    .tab {
      position: relative;
      height: var(--tab-height);
      line-height: var(--tab-height);
      padding: 0 18px;
      font-size: 13px;
      color: #1f2937;
      cursor: pointer;
      user-select: none;
    }

    .tab.active {
      font-weight: 600;
      border-bottom: 3px solid #3a3a3a;
    }

    .tab:hover {
      background: rgba(0, 0, 0, .04);
    }

    /* NOTE: ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏° .clock ‡πÄ‡∏õ‡πá‡∏ô absolute ‡∏ó‡∏≥‡πÉ‡∏´‡πâ ‚Äú‡∏ó‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‚Äù
       => ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á .topbar-right ‡πÅ‡∏ö‡∏ö flex ‡∏à‡∏±‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏Ç‡∏ß‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß override ‡πÉ‡∏´‡πâ .clock ‡πÄ‡∏õ‡πá‡∏ô static */
    .clock {
      position: absolute;
      right: 14px;
      top: 8px;
      /* (‡πÄ‡∏î‡∏¥‡∏°) ‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á */
      text-align: right;
      font-size: 13px;
    }

    .clock .date,
    .clock .time {
      font-weight: 700;
    }

    /* ‚úÖ ‡∏™‡πà‡∏ß‡∏ô override (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà ‚Äú‡∏´‡∏•‡∏±‡∏á‚Äù ‡∏Å‡∏é .clock ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏ô‡∏∞) */
    .topbar-right {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 12px;
      /* ‡∏î‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏Ç‡∏ß‡∏≤ + ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á */
    }

    .topbar-right .clock {
      position: static;
      /* ‚úÖ ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà absolute ‚Üí ‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß */
    }

    /* Sidebar */
    .sidebar {
      grid-row: 2/-1;
      background: var(--sidebar);
      border-right: 2px solid var(--sidebar-border);
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .side-header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      border-bottom: 1px solid var(--sidebar-border);
      font-weight: 600;
    }

    .side-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
    }

    .side-logo img {
      height: 38px;
    }

    .side-section {
      padding: 10px 14px;
      font-size: 13px;
      color: #111;
    }

    .menu {
      padding: 8px 8px 18px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .menu-btn {
      display: grid;
      grid-template-columns: 44px 1fr;
      align-items: center;
      gap: 10px;
      padding: 10px 8px;
      border-radius: 8px;
      border: 1px solid transparent;
      cursor: pointer;
      text-align: left;
      background: #fff;
      transition: .2s ease;
      color: #111;
    }

    .menu-btn:hover {
      border-color: var(--accent);
      background: #fafff1;
    }

    .menu-btn.active {
      background: #eaffc8;
      border-color: var(--accent);
      font-weight: 600;
    }

    .ico img {
      width: 40px;
      height: 40px;
      display: block;
    }

    .content {
      grid-column: 2/-1;
      grid-row: 2/-1;
      background: var(--panel);
      margin: 12px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, .05);
      border: 1px solid #e5e7eb;
    }

    .content-inner {
      height: 100%;
      border-left: 3px solid var(--accent);
    }

    .muted {
      color: var(--muted);
    }

    /* =======================
       üîΩ SWITCH DROPDOWN LAB BOX 
       Fancy Bootstrap Dropdown Style
       ======================= */
    .sidebar .dropdown .btn {
      background: #ffffff;
      border-radius: 12px;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      transition: all .3s ease;
      width: 100%;
      text-align: left;
    }

    .sidebar .dropdown .btn:hover {
      background: #f1f1f1;
      transform: translateY(-2px);
    }

    .sidebar .dropdown-menu {
      border-radius: 12px;
      border: none;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      animation: fadeIn .3s ease;
      width: 100%;
      z-index: 1000;
    }

    .sidebar .dropdown-item {
      font-weight: 500;
      padding: 10px 20px;
      transition: all .2s ease;
    }

    .sidebar .dropdown-item:hover {
      background-color: #fda085;
      color: #fff;
      border-radius: 8px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 960px) {
      :root {
        --sidebar-width: 180px;
      }

      .tabs {
        border-radius: 6px;
      }

      /* ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠: clock ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á static ‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏Ç‡∏ß‡∏≤‡∏î‡πâ‡∏ß‡∏¢ auto margin */
      .topbar-right .clock {
        position: static;
        margin-left: auto;
      }

      .topbar-inner {
        flex-wrap: wrap;
      }
    }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏° */
    .darklight {
      margin-left: auto;
      padding: 6px 12px;
      border-radius: 20px;
      background: #f1f5f9;
      color: #0f172a;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      user-select: none;
      transition: .2s;
      border: 1px solid #e2e8f0;
    }

    .darklight:hover {
      background: #e2e8f0
    }

    /* ‡∏ò‡∏µ‡∏°‡∏°‡∏∑‡∏î */
    .theme-dark {
      --bg: #0b1220;
      --panel: #0f172a;
      --ink: #e5e7eb;
      --muted: #94a3b8;
      --brand: #3f6212;
      --accent: #84cc16;
      --accent-dark: #65a30d;
      --sidebar: #0f172a;
      --sidebar-border: #334155;
    }

    .theme-dark .content,
    .theme-dark .sidebar,
    .theme-dark .topbar {
      border-color: var(--sidebar-border);
      box-shadow: 0 2px 10px rgba(0, 0, 0, .4);
    }

    .theme-dark #gAir .ring {
      --progress: #f87171
    }

    .theme-dark #gRH .ring {
      --progress: #34d399
    }

    .theme-dark #gCO2 .ring {
      --progress: #fb923c
    }

    /* ===== Room summary (compact) ===== */
    .room-summary {
      display: grid;
      grid-template-columns: 1fr 2fr;
      /* ‡∏ã‡πâ‡∏≤‡∏¢:‡∏Å‡∏£‡∏≤‡∏ü / ‡∏Ç‡∏ß‡∏≤:‡∏Å‡∏≤‡∏£‡πå‡∏î */
      gap: 8px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 16px */
      padding: 8px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 12px */
    }

    .room-left {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 8px */
      padding: 8px 8px 2px 8px;
    }

    .room-title {
      display: inline-block;
      background: #d9f2b6;
      color: #274a0b;
      font-weight: 700;
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 6px;
      margin-bottom: 6px;
    }

    /* ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏•‡πá‡∏Å */
    .spark {
      width: 100%;
      height: 100px;
    }

    /* ‡πÄ‡∏î‡∏¥‡∏° 140px */
    .spark .grid line {
      stroke: #e5e7eb;
      stroke-width: 1;
    }

    .spark path {
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-width: 3;
    }

    .spark path.s1 {
      stroke: #ef4444;
    }

    .spark path.s2 {
      stroke: #10b981;
    }

    .spark path.s3 {
      stroke: #f59e0b;
    }

    .spark .dots circle.s1 {
      fill: #ef4444
    }

    .spark .dots circle.s2 {
      fill: #10b981
    }

    .spark .dots circle.s3 {
      fill: #f59e0b
    }

    .room-cards {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 12px */
    }

    .mini-card {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 8px */
      overflow: hidden;
    }

    .mini-card header {
      padding: 6px 10px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 8px 12px */
      font-weight: 700;
      font-size: 12px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 13px */
      color: #111;
    }

    .mini-card.nursery header {
      background: #ffe0c7;
    }

    .mini-card.climate header {
      background: #cfe2ff;
    }

    .mini-card.mv1 header {
      background: #e8f7d4;
    }

    .mini-card.mv2 header {
      background: #e8f7d4;
    }

    .mini-card .body {
      padding: 6px 10px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 10px 12px */
      font-size: 12px;
      /* ‡πÄ‡∏î‡∏¥‡∏° 13px */
      color: #222;
    }


    /* ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á row ‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (label | value) */
    .mini-card .row {
      display: grid;
      /* ‡πÉ‡∏ä‡πâ grid layout ‡πÅ‡∏ó‡∏ô flex */
      grid-template-columns: 1fr auto;
      /* ‡∏ã‡πâ‡∏≤‡∏¢ label, ‡∏Ç‡∏ß‡∏≤ value */
      align-items: center;
      /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
      gap: 8px;
      /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á label-value */
      padding: 2px 0;
    }

    .mini-card .row .label {
      opacity: .9;
    }

    /* label ‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ */
    .mini-card .row .value {
      font-weight: 700;
      /* ‡∏Ñ‡πà‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏≤ */
      white-space: nowrap;
      /* ‡∏Å‡∏±‡∏ô‡∏ï‡∏±‡∏î‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î */
    }

    .mini-card .row .unit {
      margin-left: 4px;
      opacity: .8;
    }

    /* ‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ¬∞C, %, ppm */


    .mini-card .sep {
      margin: 0 6px;
      opacity: .7;
    }

    .mini-card .u {
      margin-left: 4px;
      opacity: .8;
    }



    /* Responsive */
    @media (max-width:1100px) {
      .room-summary {
        grid-template-columns: 1fr;
      }

      .room-cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width:640px) {
      .room-cards {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="app">
    <!-- Topbar -->
    <header class="topbar">
      <div class="topbar-inner">
        <div class="brand-badge">
          <img
            src="https://github.com/reungwitk-cyber/ssb-box/raw/c958231f7e20c74bff3076384c1e46bbee9eec24/Logosbb-box.png"
            alt="SABIENG BOX Logo" class="brand-logo">
          <div class="brand-text"></div>
        </div>
        <div class="title">LAB BOX</div>

        <!-- NOTE: ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏õ‡∏∏‡πà‡∏° + ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏ß‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô -->
        <div class="topbar-right">
          <!-- vit ‡∏Å‡∏≥‡∏´‡∏ô‡∏î -->
          <button class="darklight">darklight</button>
          <div class="clock">
            <div class="date" id="dateText">Mon. 12 - 09 - 25</div>
            <div class="time" id="timeText">Time - 17:12:35</div>
          </div>
        </div>
      </div> <!-- ‚úÖ NOTE: ‡∏õ‡∏¥‡∏î .topbar-inner ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö -->
    </header>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="menu" style="padding-top:10px">
        <button class="menu-btn active">
          <span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/c958231f7e20c74bff3076384c1e46bbee9eec24/homesw1.png"
              alt="Home"></span>
          <span>Sabieng HQ</span>
        </button>
      </div>

      <!-- =======================
           üîΩ SWITCH DROPDOWN LAB BOX 
           Bootstrap Dropdown Component
           ======================= -->
      <div class="side-section">
        <div class="dropdown">
          <button class="btn dropdown-toggle px-4 py-2" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            ‚öôÔ∏è LAB BOX
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="lab.html">LAB BOX</a></li>
            <li><a class="dropdown-item" href="single.html">SINGLE</a></li>
            <li><a class="dropdown-item" href="double.html">DOUBLE</a></li>
          </ul>
        </div>
      </div>
      <!-- ======================= -->

      <div class="menu">
        <button class="menu-btn"><span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/695cd88b6d596bfbd2b4bb6e83b47e81ab779a1f/RecipeSw.png"
              alt="Recipes"></span><span>Recipes</span></button>
        <button class="menu-btn"><span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/cf3649fc297bab4602cac39e05810940d42b774f/Crop%20yield.png"
              alt="Crop scheduling"></span><span>Crop scheduling</span></button>
        <button class="menu-btn"><span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/cf3649fc297bab4602cac39e05810940d42b774f/Crop%20scheduling.png"
              alt="Crop yield"></span><span>Crop yield</span></button>
        <button class="menu-btn"><span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/cf3649fc297bab4602cac39e05810940d42b774f/Energy%20Management.png"
              alt="Energy"></span><span>Energy Management</span></button>
        <button class="menu-btn"><span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/cf3649fc297bab4602cac39e05810940d42b774f/SettingSw1.png"
              alt="Settings"></span><span>Setting</span></button>
        <button class="menu-btn"><span class="ico"><img
              src="https://github.com/reungwitk-cyber/ssb-box/raw/cf3649fc297bab4602cac39e05810940d42b774f/Help.png"
              alt="Help"></span><span>Help</span></button>
      </div>
    </aside>

    <!-- Content -->
    <main class="content">
      <div class="content-inner">

        <nav class="tabs">
          <div class="tab active">Dashboard</div>
          <div class="tab">Control Climate</div>
          <div class="tab">Control Nutrients</div>
          <div class="tab">Recipe</div>
          <div class="tab">Notification</div>
          <div class="tab">Analysis</div>
        </nav>

        <!-- ===== Room summary (‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô .content-inner ‡πÉ‡∏ï‡πâ‡πÅ‡∏ó‡πá‡∏ö) ===== -->
        <section class="room-summary">
          <div class="room-left">
            <div class="room-title">Room</div>

            <!-- ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏•‡πá‡∏Å (sparkline) -->
            <svg class="spark" viewBox="0 0 300 140" preserveAspectRatio="none">
              <!-- ‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡∏£‡∏¥‡∏î‡∏à‡∏≤‡∏á‡πÜ -->
              <g class="grid">
                <line x1="0" y1="120" x2="300" y2="120" />
                <line x1="0" y1="90" x2="300" y2="90" />
                <line x1="0" y1="60" x2="300" y2="60" />
                <line x1="0" y1="30" x2="300" y2="30" />
              </g>
              <!-- ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 3 ‡∏ä‡∏∏‡∏î (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô d ‡∏î‡πâ‡∏ß‡∏¢ JS) -->
              <path class="s1" d="M10,120 70,90 130,70 190,40 250,55" />
              <path class="s2" d="M10,120 70,110 130,95 190,75 250,75" />
              <path class="s3" d="M10,120 70,95 130,105 190,90 250,65" />
              <!-- ‡∏à‡∏∏‡∏î -->
              <g class="dots">
                <circle class="s1" cx="250" cy="55" r="4" />
                <circle class="s2" cx="250" cy="75" r="4" />
                <circle class="s3" cx="250" cy="65" r="4" />
              </g>
            </svg>
          </div>

          <div class="room-cards">
            <!-- Farm Climate -->
            <article class="mini-card climate">
              <header><span>Farm Climate</span></header>
              <div class="body">
                <!-- ‚úÖ restructure: label | value (no dot ok) -->
                <div class="row">
                  <span class="label">Climate</span>
                  <span class="value"><b id="clm-name">xxxxxxx</b></span>
                </div>
                <div class="row">
                  <span class="label">Air temp</span>
                  <span class="value"><b id="clm-air">25</b><span class="unit">C</span></span>
                </div>
                <div class="row">
                  <span class="label">RH%</span>
                  <span class="value"><b id="clm-rh">70</b><span class="unit">%</span></span>
                </div>
                <div class="row">
                  <span class="label">CO‚ÇÇ</span>
                  <span class="value"><b id="clm-co2">1000</b><span class="unit">ppm</span></span>
                </div>
                <div class="row">
                  <span class="label">Light (hrs)</span>
                  <span class="value"><b id="clm-light">12</b><span class="unit">Hrs</span></span>
                </div>
              </div>
            </article>
            <!-- Nursery -->
            <article class="mini-card nursery">
              <header><span>Nursery</span></header>
              <div class="body">
                <!-- ‚úÖ restructure: label | value (no dot ok) -->
                <div class="row">
                  <span class="label">Recipe</span>
                  <span class="value"><b id="nur-recipe">xxxxxxx</b></span>
                </div>
                <div class="row">
                  <span class="label">Nutrient Temp</span>
                  <span class="value"><b id="nur-nt">25</b><span class="unit">C</span></span>
                </div>
                <div class="row">
                  <span class="label">EC</span>
                  <span class="value"><b id="nur-ec">1.2</b></span>
                </div>
                <div class="row">
                  <span class="label">pH</span>
                  <span class="value"><b id="nur-ph">6</b></span>
                </div>
              </div>


            </article>

            <!-- Main Reservoir 1 -->
            <article class="mini-card mv1">
              <header><span>Main Reservoir 1</span></header>
              <div class="body">
                <!-- ‚úÖ restructure: label | value (no dot ok) -->
                <div class="row">
                  <span class="label">Reservoir 1</span>
                  <span class="value"><b id="r1-recipe">xxxxxxx</b></span>
                </div>
                <div class="row">
                  <span class="label">Nutrient Temp</span>
                  <span class="value"><b id="r1-nt">25</b><span class="unit">C</span></span>
                </div>
                <div class="row">
                  <span class="label">EC</span>
                  <span class="value"><b id="r1-ec">1.2</b></span>
                </div>
                <div class="row">
                  <span class="label">pH</span>
                  <span class="value"><b id="r1-ph">6</b></span>
                </div>
              </div>
            </article>

            <!-- Main Reservoir 2 -->
            <article class="mini-card mv2">
              <header><span>Main Reservoir 2</span></header>
              <div class="body">
                <!-- ‚úÖ restructure: label | value (no dot ok) -->
                <div class="row">
                  <span class="label">Reservoir 2</span>
                  <span class="value"><b id="r2-recipe">xxxxxxx</b></span>
                </div>
                <div class="row">
                  <span class="label">Nutrient Temp</span>
                  <span class="value"><b id="r2-nt">25</b><span class="unit">C</span></span>
                </div>
                <div class="row">
                  <span class="label">EC</span>
                  <span class="value"><b id="r2-ec">1.2</b></span>
                </div>
                <div class="row">
                  <span class="label">pH</span>
                  <span class="value"><b id="r2-ph">6</b></span>
                </div>
              </div>
            </article>
          </div>
        </section>


        <section class="gauges">
          <!-- Gauge: ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ -->
          <div class="gauge" id="gAir" data-min="0" data-max="50">
            <div class="ring" style="--p:0">
              <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô src ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á -->
              <img
                src="https://github.com/reungwitk-cyber/ssb-box/raw/497513610937edbe8884a21c7b8c3d916d96a5b7/icon%20temp.png"
                alt="Air temp">
              <div class="value"><span class="num">30</span><span class="unit">¬∞C</span></div>
            </div>
            <div class="label">Air temp</div>
          </div>

          <!-- Gauge: RH -->
          <div class="gauge" id="gRH" data-min="0" data-max="100">
            <div class="ring" style="--p:0">
              <img
                src="https://github.com/reungwitk-cyber/ssb-box/raw/497513610937edbe8884a21c7b8c3d916d96a5b7/RH%20ICON.png"
                alt="RH">
              <div class="value"><span class="num">55</span><span class="unit">%</span></div>
            </div>
            <div class="label">RH%</div>
          </div>

          <!-- Gauge: CO2 -->
          <div class="gauge" id="gCO2" data-min="0" data-max="3000">
            <div class="ring" style="--p:0">
              <img src="https://github.com/reungwitk-cyber/ssb-box/raw/497513610937edbe8884a21c7b8c3d916d96a5b7/CO2.png"
                alt="CO‚ÇÇ">
              <div class="value"><span class="num">1200</span><span class="unit">ppm</span></div>
            </div>
            <div class="label">CO‚ÇÇ</div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <script>
    // clock
    const dateText = document.getElementById('dateText');
    const timeText = document.getElementById('timeText');
    function pad(n) { return String(n).padStart(2, '0'); }
    function fmt() {
      const d = new Date();
      const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      const dd = pad(d.getDate()), mm = pad(d.getMonth() + 1), yy = String(d.getFullYear()).slice(-2);
      dateText.textContent = `${dayNames[d.getDay()]}. ${dd} - ${mm} - ${yy}`;
      timeText.textContent = `Time - ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
    }
    fmt(); setInterval(fmt, 1000);
  </script>

  <!-- =======================
       üîΩ SWITCH DROPDOWN LAB BOX 
       Bootstrap JS (‡∏ó‡∏≥‡πÉ‡∏´‡πâ dropdown ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ)
       ======================= -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ---------- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ % ‡∏Ç‡∏≠‡∏á‡∏ß‡∏á (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å min/max) ----------
    function setGauge(gaugeEl, value) {
      const min = Number(gaugeEl.dataset.min || 0);
      const max = Number(gaugeEl.dataset.max || 100);
      const ring = gaugeEl.querySelector('.ring');
      const numEl = gaugeEl.querySelector('.num');
      const pct = Math.max(0, Math.min(1, (value - min) / (max - min))) * 100;
      ring.style.setProperty('--p', pct.toFixed(2));
      numEl.textContent = value;
    }
  </script>

  <!-- =======================
       NOTE: ‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÅ‡∏ö‡∏ö JS ‡∏ô‡∏≠‡∏Å <script> ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏ú‡∏•‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠
       ‚úÖ ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå HTML ‡πÅ‡∏•‡∏∞‡∏ñ‡∏≠‡∏î mqtt.min.js ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
       ======================= -->
  <!-- (removed) <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script> -->

  <!-- üîå WebSocket ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ 3 switches -->
  <script>
    // ‚òÖ ‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Node-RED ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    //
    //const WS_URL = "ws://192.168.11.50:1880/mqtt";
     const WS_URL = "wss://skin-trackback-tanks-chemical.trycloudflare.com/mqtt";

    // ‚òÖ ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ topic ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á flow ‡πÉ‡∏ô Node-RED
    const topics = {
      air: "farmgo/sensor/air/temp",
      rh: "farmgo/sensor/air/rh",
      co2: "farmgo/sensor/air/co2"
    };

    // ---------- ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏õ‡∏•‡∏á payload -> number ----------
    function toNumber(payload) {
      if (typeof payload === 'number' && !Number.isNaN(payload)) return payload;
      if (typeof payload === 'string') {
        const n = Number(payload.trim());
        if (!Number.isNaN(n)) return n;
        try { const o = JSON.parse(payload); return toNumber(o); } catch { }
        return null;
      }
      if (payload && typeof payload === 'object') {
        for (const k of ['v', 'value', 'a']) {
          const n = Number(payload[k]);
          if (!Number.isNaN(n)) return n;
        }
      }
      return null;
    }

    // ---------- WebSocket ----------
    let ws, retry;
    function connect() {
      clearTimeout(retry);
      ws = new WebSocket(WS_URL);
      console.log('Connecting WS:', WS_URL);

      ws.onopen = () => console.log('‚úÖ WS connected');

      ws.onmessage = (evt) => {
        // ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ 3 switches: { "topic": "...", "payload": ... }
        try {
          const msg = JSON.parse(evt.data);
          const t = String(msg.topic || '');
          const val = toNumber(msg.payload);
          if (val == null) return;

          if (t === topics.air) {
            setGauge(document.getElementById('gAir'), val);   // ¬∞C
          } else if (t === topics.rh) {
            setGauge(document.getElementById('gRH'), val);    // %
          } else if (t === topics.co2) {
            setGauge(document.getElementById('gCO2'), val);   // ppm
          }
        } catch {
          // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà JSON ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ
        }
      };

      ws.onclose = () => {
        console.warn('‚ùå WS disconnected');
        retry = setTimeout(connect, 1500);
      };
      ws.onerror = () => console.warn('‚ö†Ô∏è WS error');
    }

    // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö WS
    setGauge(document.getElementById('gAir'), 30);
    setGauge(document.getElementById('gRH'), 55);
    setGauge(document.getElementById('gCO2'), 1200);

    connect();
  </script>

  <script>
    (function () {
      // ‡∏õ‡∏∏‡πà‡∏° toggle ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô .topbar-inner
      const BTN = document.querySelector('.darklight');
      // ‡∏≠‡πâ‡∏≤‡∏á‡∏ñ‡∏∂‡∏á <body> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà/‡πÄ‡∏≠‡∏≤ class .theme-dark
      const ROOT = document.body;

      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏° (üåô Dark ‡∏´‡∏£‡∏∑‡∏≠ ‚òÄÔ∏è Light)
      function setBtnLabel() {
        const saved = localStorage.getItem('themeIcon') || 'dark'; // 'dark' | 'light'
        BTN.textContent = (saved === 'dark') ? 'üåô Dark' : '‚òÄÔ∏è Light';
      }

      // ‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á ‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° .theme-dark ‡πÉ‡∏î‡πÜ
      BTN.addEventListener('click', () => {
        const cur = localStorage.getItem('themeIcon') || 'dark';
        const next = (cur === 'dark') ? 'light' : 'dark';
        localStorage.setItem('themeIcon', next);
        setBtnLabel();
      });

      // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏î‡∏¥‡∏°
      setBtnLabel();



    })();
  </script>

  <script>
    // (‡∏≠‡∏≠‡∏õ‡∏ä‡∏±‡∏ô) ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πâ‡∏ô ‡πÜ
    function setRoomData() {
      // ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‚Äî‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö WebSocket ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      document.getElementById('nur-recipe').textContent = 'RX-01';
      document.getElementById('nur-nt').textContent = 25;
      document.getElementById('nur-ec').textContent = 1.2;
      document.getElementById('nur-ph').textContent = 6;

      document.getElementById('clm-name').textContent = 'CL-01';
      document.getElementById('clm-air').textContent = 25;
      document.getElementById('clm-rh').textContent = 70;
      document.getElementById('clm-co2').textContent = 1000;
      document.getElementById('clm-light').textContent = 12;

      document.getElementById('r1-recipe').textContent = 'RX-11';
      document.getElementById('r2-recipe').textContent = 'RX-12';
    }
    setRoomData();

    // (‡∏≠‡∏≠‡∏õ‡∏ä‡∏±‡∏ô) ‡∏ß‡∏≤‡∏î‡πÄ‡∏™‡πâ‡∏ô sparkline ‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ (‡∏£‡∏±‡∏ö array 5 ‡∏à‡∏∏‡∏î 0..1)
    function sparkPath(vals) {
      // map 5 ‡∏à‡∏∏‡∏î‡πÑ‡∏õ width=300, height=140 (padding top=20, bottom=20)
      const W = 300, H = 140, pt = [10, 70, 130, 190, 250], top = 20, bot = 120;
      const ys = vals.map(v => bot - (bot - top) * v);
      return `M${pt[0]},${ys[0]} ${pt[1]},${ys[1]} ${pt[2]},${ys[2]} ${pt[3]},${ys[3]} ${pt[4]},${ys[4]}`;
    }
    // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏™‡πâ‡∏ô (‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô 0..1)
    document.querySelector('.spark path.s1').setAttribute('d', sparkPath([0.1, 0.35, 0.55, 0.9, 0.75]));
    document.querySelector('.spark path.s2').setAttribute('d', sparkPath([0.1, 0.25, 0.2, 0.45, 0.45]));
    document.querySelector('.spark path.s3').setAttribute('d', sparkPath([0.1, 0.42, 0.35, 0.6, 0.5]));
  </script>


</body>

</html>